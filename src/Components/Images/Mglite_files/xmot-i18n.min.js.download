!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.xmot=t():e.xmot=t()}(self,(function(){return(()=>{var e={682:(e,t,n)=>{var r,o;!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=a,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(d){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+c}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var c=i[a].split("="),u=c.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var d=t(c[0]);if(u=(r.read||r)(u,d)||t(u),n)try{u=JSON.parse(u)}catch(s){}if(o[d]=u,e===d)break}catch(s){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{"use strict";n.d(r,{default:()=>Ke});var e=n(682),t=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o={in:[108,121,124,124],id:[109,126,128,128],de:[710,711,592,592],nl:[579,580,591,591],es:[138,139,605,605],fr:[571,572,573,573],it:[524,525,589,589],uk:[577,578,590,590],ru:[132,575,587,587],hk:[103,129,604,604],tw:[104,120,127,127],default:[0,0,0,0]},i={default:{APP_ID:"2882303761517399893",PRO_ID:"16"},pocoDefault:{APP_ID:"31000000334",PRO_ID:"16"}},a={fr:"high",nl:"high",es:"high",de:"high",it:"high",uk:"high",tr:"high",pl:"high",se:"high",global:"high",gr:"high"},c={in:!0,default:!1};function u(e){var n=t(o[e]||o.default,4);return{pc:n[0],m:n[1],app:n[2],ios:n[3]}}function d(e){return i[e]||(document.domain.includes("po.co")?i.pocoDefault:i.default)}var s={ae:{currencyCode:"AED"},au:{currencyCode:"AUD"},bd:{currencyCode:"BDT"},be:{currencyCode:"EUR"},br:{currencyCode:"BRL"},ca:{currencyCode:"CAD"},cl:{currencyCode:"CLP"},cn:{currencyCode:"CNY"},co:{currencyCode:"COP"},cz:{currencyCode:"CZK"},de:{currencyCode:"EUR"},dk:{currencyCode:"DKK"},eg:{currencyCode:"EGP"},es:{currencyCode:"EUR"},fr:{currencyCode:"EUR"},gcc:{currencyCode:"AED"},global:{currencyCode:"USD"},gr:{currencyCode:"GRD"},hk:{currencyCode:"HKD"},hu:{currencyCode:"HUF"},id:{currencyCode:"IDR"},ie:{currencyCode:"EUR"},il:{currencyCode:"ILS"},ir:{currencyCode:"IRR"},in:{currencyCode:"INR"},it:{currencyCode:"EUR"},jp:{currencyCode:"JPY"},kr:{currencyCode:"KRW"},la:{currencyCode:"LAK"},lk:{currencyCode:"LKR"},lu:{currencyCode:"EUR"},ma:{currencyCode:"MAD"},mm:{currencyCode:"MMK"},mo:{currencyCode:"MOP"},mx:{currencyCode:"MXN"},my:{currencyCode:"MYR"},ng:{currencyCode:"NGN"},nl:{currencyCode:"EUR"},np:{currencyCode:"NPR"},nz:{currencyCode:"NZD"},ph:{currencyCode:"PHP"},pk:{currencyCode:"PKR"},pl:{currencyCode:"PLN"},pt:{currencyCode:"EUR"},ro:{currencyCode:"RON"},ru:{currencyCode:"RUB"},sa:{currencyCode:"SAR"},se:{currencyCode:"SEK"},sg:{currencyCode:"SGD"},th:{currencyCode:"THB"},tr:{currencyCode:"TRY"},tw:{currencyCode:"TWD"},ua:{currencyCode:"UAH"},uk:{currencyCode:"GBP"},us:{currencyCode:"USD"},vn:{currencyCode:"VND"},za:{currencyCode:"ZAR"}};function m(e){return Object.assign({currencyCode:"USD"},s[e]||{})}function l(e){return c[e]||c.default}var p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},f=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},v=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_=["guserid","instance_id","muserid","site_country","tz","app_platform","ot_ua","last_source","utm_channel","utm_content","utm_term","utm_type"];function g(){return e.get("mstuid")||""}function y(e,t){if(e instanceof Object){var n=document.querySelector("html"),r=document.querySelector("body"),o="";if(t)try{var i=t.closest("[data-ot-module]");o=!!i&&i.getAttribute("data-ot-module")||""}catch(de){}var a=[e.a||!!n&&n.getAttribute("data-ot-project")||d("default").PRO_ID,e.b||!!r&&r.getAttribute("data-ot-page")||0,e.c||o||0,e.d||0,e.e||0,Math.floor(Math.random()*Math.pow(10,8))];return w(a)?a.join("."):""}var c=(e||"").split(".");return w(c)?f(f([],p(c.slice(0,5))),[Math.floor(Math.random()*Math.pow(10,8))]).join("."):""}function h(e){var t,n=e.split(".");if(w(n)){var r="",o="",i=p(n,5),a=i[1],c=i[2],u=i[3],d=i[4],s=c.split("|");return s.length>0&&(r=(t=p(s,2))[0],o=t[1]),{tipB:a,tipC:r,tipC1:o||"",tipD:u,tipE:d}}return{tipB:"",tipC:"",tipC1:"",tipD:"",tipE:""}}function w(e){var t=!0;return e.length<5&&(t=!1),e.slice(0,2).some((function(e){return 0===Number(e||0)}))&&(t=!1),F()&&!t&&console.warn("The tip code ["+e.join(".")+"] is invalid!"),!!t}function b(t){var n=I(),r=t.split("."),o=p(r,5),i=o[0],a=o[1],c=o[2],u=o[3],d=o[4];n&&e.set("_ot_ref_tip",r.length>5?i+"."+a+"."+c+"."+u+"."+d:"",x(n))}function S(){return e.get("_ot_ref_tip")||""}function I(){var e=document.querySelector("html");return e&&e.getAttribute("data-ot-local")||(window.location.pathname||"/").split("/")[1]||""}function O(t){!function(t){var n=Number(e.get("_ot_last_time")||0);n&&Date.now()-n>18e5&&e.set("_ot_update_flag","true",x(t));!function(t){e.set("_ot_last_time",String(Date.now()),x(t))}(t)}(t);var n=document.referrer||"",r=([x(t).domain,".xiaomi.com",".xiaomi.net"].some((function(e){return!!~n.indexOf(e)}))?e.get("_ot_last_source"):n)||"",o="true"===e.get("_ot_update_flag")?"":r;return e.set("_ot_last_source",o||"",x(t,{expires:new Date(Date.now()+18e5)})),o}function C(t){var n=document.location.href||"",r=document.referrer||"",o=e.get("_ot_referrer_path")||"",i=e.get("_ot_curr_uri_path")||"";return n!==i&&(e.set("_ot_prev_uri_path",i,x(t)),e.set("_ot_curr_uri_path",n,x(t))),r===o?e.get("_ot_prev_uri_path")||"":(e.set("_ot_prev_uri_path",r,x(t)),r||"")}function A(t,n,r){var o=r||e.get("_ot_"+n)||"",i="true"===e.get("_ot_update_flag")?"":o;return e.set("_ot_"+n,i,x(t,{expires:new Date(Date.now()+18e5)})),i}function k(t,n,r){return(n instanceof Array?n:[n]).forEach((function(n){return e.remove(n,x(t,r))}))}function x(e,t){return Object.assign({sameSite:"strict",path:"/"+e,domain:"."+(window.location.hostname||"").split(".").slice("id"===e?-3:-2).join(".")},t||{})}function E(t){var n=e.get("_ot_session_id")||String(Date.now());return e.set("_ot_session_id",n,x(t,{expires:new Date(Date.now()+18e5)})),n}function N(e){return"string"!=typeof e?void 0:e.replace(/^javascript:void\(0\)(;)?/g,"").replace(/^(http(s?):)?\/\//i,window.location.protocol+"//")}function D(){var t="1"===e.get("ISAPP")||"1"===e.get("ISIOS"),n=!!~["community_sdk","mihome_sdk"].indexOf(e.get("request_from")||""),r=!!~["mihome_sdk"].indexOf(e.get("request_from")||""),o=!!~["community_sdk"].indexOf(e.get("request_from")||""),i=t&&!n&&Number(e.get("APPVERSION"))<31500,a=t&&!n&&Number(e.get("IOSVERSION"))<31e3,c=t&&!n&&Number(e.get("APPVERSION"))<=40200,u=t&&!n&&Number(e.get("IOSVERSION"))<=40100,d=t&&!n&&Number(e.get("APPVERSION"))>=1e5;return{isInsideApp:t,isOldAPP:i,isOldIOS:a,isOtherApp:t&&n,isUseMiCommand:t&&!n&&(Number(e.get("APPVERSION"))>=31800||Number(e.get("IOSVERSION"))>=31300),isGAOldApp:c,isGAOldIOS:u,isPocoApp:d,isMihomeApp:r,isMicommunityApp:o}}function T(t,n){try{var r=JSON.stringify({eventType:t,params:n}),o="xiaomi://MiEventTrackCommand?action=logGA&params="+encodeURIComponent(r);"1"===e.get("ISIOS")?Number(e.get("IOSVERSION"))>=40501?window.iosGADatas.push(r):window.location.assign(o):"1"===e.get("ISAPP")&&prompt(o)}catch(i){console.warn("GA4: An error occurred in app!")}}function P(){if(window.beforeGADatas.length<window.iosGADatas.length){var e=Object.assign([],window.iosGADatas),t="xiaomi://MiEventTrackCommand?action=logGADatas&params="+encodeURIComponent(JSON.stringify(e.slice(window.beforeGADatas.length)));window.beforeGADatas=e,window.location.assign(t)}}function L(){if(window.beforeOneTrackDatas.length<window.iosOtDatas.length){var e=Object.assign([],window.iosOtDatas),t="xiaomi://MiEventTrackCommand?action=trackDatas&params="+encodeURIComponent(JSON.stringify(e.slice(window.beforeOneTrackDatas.length)));window.beforeOneTrackDatas=e,window.location.assign(t)}}function R(e){var t=Object.assign({},e);for(var n in t)if(void 0===t[n])delete t[n];else if(Array.isArray(t[n]))for(var r=0;r<t[n].length;r++)t[n][r]=R(t[n][r]);else"object"==typeof t[n]&&(t[n]=R(t[n]));return t}function j(e,t){var n,r;e=function(e){var t=Object.assign({},e);for(var n in t)if(Array.isArray(t[n]))for(var r=0;r<t[n].length;r++)t[n][r]=R(t[n][r]);else"object"==typeof t[n]?t[n]=R(t[n]):"string"==typeof t[n]&&(_.includes(n)?t[n]=t[n].substr(0,36):t[n]=t[n].substr(0,100));return t}(e);var o=D(),i=o.isInsideApp,a=o.isGAOldApp,c=o.isGAOldIOS,u=o.isOtherApp,d=o.isPocoApp;if(i&&!a&&!c&&!u&&!d){var s=Object.assign({},e);delete s.event;try{var m=t?s.ecommerce:s;"page_view"===e.event?(T("screen_view",JSON.stringify({screen_name:m.page_type})),setTimeout((function(){T(e.event,JSON.stringify(R(m)))}),800)):T(e.event,JSON.stringify(R(m)))}catch(l){console.warn("GA4: An error occurred in app!")}}else try{t&&(null===(n=window.dataLayer)||void 0===n||n.push({ecommerce:null})),null===(r=window.dataLayer)||void 0===r||r.push(e)}catch(l){console.warn("GA4: An error occurred in web!")}}function U(t,n){if(n.tip&&Z()){var r=D(),o=r.isInsideApp,i=r.isOldAPP,a=r.isOldIOS,c=r.isOtherApp;if(o&&!i&&!a&&!c){var u=n.tip.split("."),d={b:u[1],c:u[2],d:u[3],e:u[4],location:window.location.href||"",page:H(),title:window.document.title||"",page_version:W()};Object.keys(n).forEach((function(e){"tip"!==e&&(d[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=n[e])}));try{!function(t,n){if(D().isUseMiCommand&&"1"===e.get("ISIOS")){var r=JSON.stringify({eventType:t,params:n}),o="xiaomi://MiEventTrackCommand?action=track&params="+encodeURIComponent(r);Number(e.get("IOSVERSION"))>=40501?window.iosOtDatas.push(r):window.location.assign(o)}else window.WE&&window.WE.trackEvent&&"function"==typeof window.WE.trackEvent&&window.WE.trackEvent(t,n)}(t,JSON.stringify(J(d)))}catch(s){console.warn("OneTrack: An error occurred in app!")}}else try{"function"==typeof window.onetrack&&window.onetrack("track",t,J(n))}catch(s){console.warn("OneTrack: An error occurred in web!")}}}function M(e){return K({utm_type:"mi_type",utm_channel:"mi_channel",utm_campaign:"mi_campaign",utm_source:"mi_source",utm_medium:"mi_medium",utm_term:"mi_term",utm_content:"mi_content"}[e])||K(e)||""}function G(e,t){var n=Object.assign({},e);return t&&"object"==typeof t&&Object.keys(t).forEach((function(e){n[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=B(t[e],"")})),n}function B(e,t){return void 0===e?null:void 0!==t?e||t:e}function q(e,t){return void 0===e?t||void 0:void 0!==t?""+e?e:e||t||void 0:e}function J(e){var t=Object.assign({},e);return Object.keys(t).forEach((function(e){~[null,void 0].indexOf(t[e])&&delete t[e]})),t}function F(){var e=document.querySelector("html");return"true"===(e&&e.getAttribute("data-ot-test"))}function W(){var e="";try{e=""+process.env.VERSION}catch(de){}return e||"1.0.0"}function V(){var e="temp";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}function K(e,t){var n=t||window.location.search||(window.location.hash||"").replace(/.+\?/g,"?").replace(/#.+/g,"");if(!n)return"";var r=n.slice(1).split("&").map((function(e){return e.split("=")}));return(p(r.filter((function(t){var n=p(t,2),r=n[0];n[1];return r===e})).map((function(e){var t=p(e,2);t[0];return t[1]})),1)[0]||"").replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(function(e){return decodeURIComponent(e)}))}var z=function(){return{instanceId:("1"===e.get("_ot_use_type")?e.get("_ot_instance_id")||"":g())||"",viewTip:e.get("_ot_view_tip")||"",refTip:e.get("_ot_ref_tip")||"",refB:e.get("_ot_ref_b")||"",sessionId:e.get("_ot_session_id")||"",lastSource:e.get("_ot_last_source")||"",utmType:e.get("_ot_utm_type")||"",utmChannel:e.get("_ot_utm_channel")||"",utmCampaign:e.get("_ot_utm_campaign")||"",utmSource:e.get("_ot_utm_source")||"",utmMedium:e.get("_ot_utm_medium")||"",utmTerm:e.get("_ot_utm_term")||"",utmContent:e.get("_ot_utm_content")||""}};function Z(){var t=D().isInsideApp,n=I(),r=-1!==window.location.hostname.indexOf("po.co"),o=function(e){return"high"!==a[e]?"0,1,2,3:":"0:"}(n);return!!(t||r?"0,1,2,3:":e.get("notice_gdpr_prefs")||o).match(/3/)}function H(){return(window.location.pathname||"/").replace(/^\/[a-z]+/,"").replace(/\/(index.html)?$/,"")||"/index"}function Y(t,n,r){var o={};switch(t){case"view_item_list":case"select_item":o={item_list_name:q(n.itemListName,""),item_list_id:q(n.itemListId||r.tipC,""),index:Number(n.index||0)};break;case"view_item":case"view_cart":case"add_to_cart":case"remove_from_cart":case"begin_checkout":case"add_shipping_info":case"add_payment_info":o={item_list_name:e.get("_ot_item_list_name")||void 0,item_list_id:e.get("_ot_item_list_id")||void 0,index:Number(n.index||0)};break;case"select_promotion":case"view_promotion":o={promotion_id:q(n.promotionId,""),promotion_name:q(n.promotionName,""),creative_name:q(n.creativeName,""),creative_slot:q(n.creativeSlot,""),index:Number(n.index||0)}}return o}function $(e,t){for(var n=e.charCodeAt(0),r=t.charCodeAt(0),o="",i=n;i<=r;i++)o+=String.fromCharCode(i);return o}function X(){return function(e,t){for(var n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}($("0","9")+$("a","z"),32)}function Q(e){var t,n,r=void 0,o=void 0,i=void 0,a=void 0;try{for(var c=v(e),u=c.next();!u.done;u=c.next()){var d=u.value;if(d){var s=String(d).toLowerCase();s.startsWith("spu")?a=d:3<=s.length&&s.length<=6?i=d:s.startsWith("3")&&s.length<26?r=d:s.startsWith("4")&&(o=d)}}}catch(m){t={error:m}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return{commodityId:r,itemId:o,productId:i,spuId:a}}var ee=function(){return(ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},te=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ne=function(t){if(!Z())return"";var n=document.querySelector("body"),r=te(t.tip instanceof Object?[0,t.tip.b]:String(t.tip||"").split("."),2)[1];if(r&&n&&n.setAttribute("data-ot-page",String(r||0)),t.pageType){var o=t.pageType;n&&n.setAttribute("data-ot-pageType",String(o||""))}return function(){var n,r=y(t.tip)||"",o={tip:r||"",commodity_id:B(t.commodityId,""),product_id:B(t.productId,""),goods_id:B(t.goodsId,""),tag:B(t.tag,""),version:B(t.version,""),exp_id:B(t.expId,"")};(t.viewTipDisabledB||t.viewTipEnabledE)&&function(e){V()&&(sessionStorage.setItem("DISABLED_B",JSON.stringify(e.rangeB||[])),sessionStorage.setItem("ENABLED_E",JSON.stringify(e.rangeE||[])))}({rangeB:t.viewTipDisabledB||[],rangeE:t.viewTipEnabledE||[]});var i,a,c=G(o,t.extra);if(Z()&&function(t){var n=p(S().split("."),2)[1],r=p((t||"").split("."),2)[1],o=e.get("_ot_ref_b")||"",i=I();n!==r&&n===o||b(""),i&&e.set("_ot_ref_b",r||"",x(i))}(r),U("view",c),window.dataLayer&&t.isOpenGA){var s=I(),m=function(){var t=document.querySelector("html"),n=t&&t.getAttribute("data-ot-platform"),r=D(),o=r.isOtherApp,i=r.isMihomeApp,a=r.isMicommunityApp;return o?i?"mihome":a?"micommunity":"others":"1"===e.get("ISAPP")?"android":"1"===e.get("ISIOS")?"ios":n||"m"}(),l=function(t){var n="1"===e.get("_ot_use_type"),r=X();return!n&&g()?r=g():e.get("_ot_instance_id")?r=e.get("_ot_instance_id")||r:e.set("_ot_instance_id",r,x(t,{expires:new Date(Date.now()+34128e6)})),r}(s),f=u(s),v=Number(f["pc"===m?"pc":"m"]);j(ee({event:"page_view",muserid:e.get("mUserId")||void 0,guserid:e.get("guserid")||void 0,instance_id:l||void 0,app_id:d(c.local).APP_ID||void 0,tip:r,ref_tip:S()||void 0,page:H(),page_version:W()||void 0,tz:(i=(new Date).getTimezoneOffset(),a=Math.abs(i),"GMT"+(i>0?"-":"+")+("00"+Math.floor(a/60)).slice(-2)+":"+("00"+a%60).slice(-2)||void 0),site_country:s||void 0,last_source:O(s)||void 0,app_platform:m||void 0,ot_ua:(null===(n=null===window||void 0===window?void 0:window.navigator)||void 0===n?void 0:n.userAgent)||void 0,utm_channel:A(s,"utm_channel",M("utm_channel"))||void 0,utm_content:A(s,"utm_content",M("utm_content"))||void 0,utm_term:A(s,"utm_term",M("utm_term"))||void 0,utm_type:A(s,"utm_type",M("utm_type"))||void 0,page_type:q(t.pageType||void 0,""),page_referrer:C(s)||void 0,domain_id:""+v||void 0},h(r)))}return r}()},re=function(){return(re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},oe=function(e,t){var n=y(e.tip,t)||"";if(!n||!Z())return"";var r=Object.assign({},e),o=I(),i=Q([r.commodityId,r.productId,r.itemId,r.spuId].filter((function(e){return!!e})));window.dataLayer&&j(re({event:r.event,element_name:q(r.elementName,""),element_title:q(r.elementTitle,""),tip:n,link:q(N(r.linkUrl||r.link),""),ref_tip:S()||void 0,page_type:q(r.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),page_version:W()||void 0,asset_link:q(N(r.assetLink),""),asset_id:q(r.assetId,""),live_id:q(r.liveId,""),alg:q(r.alg,""),alg_ver:q(r.algVer,""),alg_group:q(r.algGroup,""),activity_id:q(r.activityId||r.eventId,""),search_result:q(r.searchResult||r.result,""),search_word:q(r.searchWord,""),search_type:q(r.searchType,""),commodity_id:q(i.commodityId,"")?""+q(i.commodityId,""):void 0,coupon_list:q(r.couponList,""),coupon_status:q(r.couponStatus,""),product_id:q(i.productId,"")?""+q(i.productId,""):void 0,tag:q(r.tag,""),spu_id:q(i.spuId,"")?""+q(i.spuId,""):void 0,item_name:q(r.itemName,""),item_id:q(i.itemId,"")?""+q(i.itemId,""):void 0,version:q(r.version,""),exp_id:q(r.expId,""),commentNbrofTotal:Number(r.commentNbrofTotal||0),page_referrer:C(o)||void 0},h(n)));return n},ie=function(t){if(t.userId){var n="1"===e.get("isFromPassport");k(t.local,"isFromPassport",{path:"/"}),"function"==typeof window.onetrack&&window.onetrack("login",t.userId,t.accountType,t.extraParams,!n),n&&oe({event:"login",tip:"",pageType:"login"})}},ae=function(e){"function"==typeof window.onetrack&&window.onetrack("logout",e),"function"==typeof window.gtag&&window.gtag("event","logout",e)},ce=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ue=function(t,n){if(window.gtag||(window.gtag=window.gtag||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(window.dataLayer=window.dataLayer||[]).push(e)}),Z()){if(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"dle_consent_update"}),!("object"==typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype))(h=document.createElement("script")).src="//i01.appmifile.com/webfile/globalweb/stat/js/IntersectionObserver.min.js",document.head.appendChild(h);var r,o,i,a,c=document.querySelector("#xmot"),s=D(),m=s.isOldAPP,l=s.isOldIOS,p=s.isOtherApp,f=s.isMihomeApp,v=s.isMicommunityApp;if(!c||!window.onetrack){window.onetrack=window.onetrack||function(){(window.onetrack.q=window.onetrack.q||[]).push(arguments)};var _=F()?"cn":t.region||t.local||"cn",y=p||m||l?e.get("DEVICEID")||"undefined":(r=t.local,o="1"===e.get("_ot_use_type"),i=g(),a=!o&&!!i,e.set("_ot_use_type",a?"0":"1",x(r,{expires:730})),e.get("_ot_instance_id")||e.set("_ot_instance_id",X(),x(r,{expires:new Date(Date.now()+34128e6)})),a?i:{type:"cookie",name:"_ot_instance_id",options:x(r,{expires:new Date(Date.now()+34128e6)})});window.onetrack("init",t.appId||d(t.local).APP_ID,"default",_,y||void 0);var h;(h=document.createElement("script")).src="//ssl-cdn.static.browser.mi-img.com/mistat-data/onetrack/onetrack.js",h.async=!0,h.id="xmot",document.head.appendChild(h)}window.gtag||(window.gtag=window.gtag||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(window.dataLayer=window.dataLayer||[]).push(e)});var w=p?f?"mihome":v?"micommunity":"others":"1"===e.get("ISAPP")?"android":"1"===e.get("ISIOS")?"ios":t.platform||(window.innerWidth<=720?"m":"pc"),b=document.querySelector("html"),I=ce(t.tip instanceof Object?[t.tip.a]:String(t.tip||"").split("."),1)[0];b&&b.setAttribute("data-ot-project",String(I||d(t.local).PRO_ID||0)),b&&b.setAttribute("data-ot-local",t.local),b&&b.setAttribute("data-ot-platform",w),"cn"===t.region&&b&&b.setAttribute("data-ot-test","true"),function(t,n,r){var o=u(n),i=Number(o["pc"===r?"pc":"m"]);(function(t){var n=document.location.href||"",r=document.referrer||"",o=e.get("_ot_prev_uri_path")||"";e.set("_ot_referrer_path",r||"",x(t)),e.set("_ot_prev_uri_path",o||r||"",x(t)),e.set("_ot_curr_uri_path",n,x(t))})(n),k(n,"_ot_update_flag"),E(n),t.onetrack("set","ref_tip",(function(){return S()})),t.onetrack("set","site_country",n),t.onetrack("set","domain_id",i),t.onetrack("set","app_platform",r),t.onetrack("set","page",(function(){return H()})),t.onetrack("set","page_version",W()),t.onetrack("set","lastsource",(function(){return O(n)})),t.onetrack("set","session_id",(function(){return E(n)}));var a=["utm_type","utm_channel","utm_campaign","utm_source","utm_medium","utm_term","utm_content"],c=a.map(M);c.some((function(e){return!!e}))&&k(n,a.map((function(e){return"_ot_"+e})));a.forEach((function(e,r){t.onetrack("set",e,(function(){return A(n,e,c[r])}))}))}(window,t.local,w),n&&n instanceof Function&&n(window,t.local);var C=e.get("mUserId")||"";if(C)ie({local:t.local,userId:C});else if(function(){var e="temp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}()){(localStorage.getItem("_onetrack_uid")||"")&&ae()}if(t.tip){var N=Object.assign(t,{tip:t.tip});ne(N)}"1"===e.get("ISIOS")&&(window.iosGADatas=[],window.beforeGADatas=[],window.iosOtDatas=[],window.beforeOneTrackDatas=[],window.onbeforeunload=function(){P(),setTimeout((function(){L()}),1e3)},setInterval((function(){P(),setTimeout((function(){L()}),1e3)}),2e3))}};var de,se,me,le,pe=function(t,n){var r,o,i,a,c,u,d,s=y(t.tip,n)||"";if(U("click",G({tip:s,module_pos:B(t.modulePos),module_title:B(t.moduleTitle,""),element_name:B(t.elementName,""),element_title:B(t.elementTitle,""),link:B(N(t.linkUrl||t.link),""),asset_link:B(N(t.assetLink),""),commodity_id:B(t.commodityId,""),product_id:B(t.productId,""),goods_id:B(t.goodsId,""),tag:B(t.tag,""),version:B(t.version,""),exp_id:B(t.expId,""),sub_module_pos:B(t.subModulePos),sub_module_name:B(t.subModuleName,""),sub_module_title:B(t.subModuleTitle,"")},t.extra)),window.dataLayer&&t.isOpenGA){var m=Object.assign({},t,t.extra,{event:"click"});oe(m,n)}return s&&(t.linkUrl||t.link)&&!t.isNotJump&&(b(s),r=s,o=I(),i=p((r||"").split("."),5),a=i[1],c=i[4],u=V()?JSON.parse(sessionStorage.getItem("DISABLED_B")||"[]").map((function(e){return Number(e||0)})):[],d=V()?JSON.parse(sessionStorage.getItem("ENABLED_E")||"[]").map((function(e){return Number(e||0)})):[],(!~u.indexOf(Number(a||0))||~d.indexOf(Number(c||0)))&&o&&e.set("_ot_view_tip",r||"",x(o))),s},fe=function(e,t){Array.from(document.querySelectorAll(e.targetSelector||"[data-ot-click]")).forEach((function(n){var r=n&&n.getAttribute("data-ot-tip")||"",o=n&&n.getAttribute(e.targetDataAttr||"data-ot-click")||"{}",i={};try{i=JSON.parse(o)}catch(de){F()&&console.warn("JSON string ["+o+"] is invalid!")}var a="function"==typeof t?t(i,n):i,c=Object.assign(a,r?{tip:r}:{});n.addEventListener("click",(function(e){return pe(c,e.currentTarget||void 0)}))}))},ve=function(){return(ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ge=function(t){var n,r,o,i=y(t.tip||(null===(o=t.ecommerce)||void 0===o?void 0:o.tip))||"";if(!i||!Z())return"";var a={};a=t.ecommerce?t:{event:t.event,ecommerce:ve({items:[ve({},t)]},t)};var c=Object.assign({},a),u=Q([c.ecommerce.commodityId||c.ecommerce.commodity_id,c.ecommerce.productId||c.ecommerce.product_id,c.ecommerce.items[0].itemId||c.ecommerce.items[0].item_id,c.ecommerce.spuId||c.ecommerce.spu_id].filter((function(e){return!!e})));if(window.dataLayer){var d=I(),s=h(i),p=[];if(c.ecommerce&&c.ecommerce.items)try{for(var f=_e(c.ecommerce.items),v=f.next();!v.done;v=f.next()){var _=v.value,g=_.itemName?_.itemName.toLowerCase().includes("poco")?"poco":_.itemName.toLowerCase().includes("redmi")?"redmi":"mi":"mi";"select_item"===c.event&&(e.set("_ot_item_list_name",q(_.itemListName,""),x(d,{expires:365})),e.set("_ot_item_list_id",q(_.itemListId||s.tipC,""),x(d,{expires:365})));var w=ve({price:l(d)?Number(_.price||0):0,item_brand:q(_.itemBrand||_.item_brand||g,""),item_category:q(_.itemCategory||_.item_ategory,""),item_variant:q(_.itemVariant||_.item_variant,""),quantity:Number(_.quantity||0),item_category2:q(_.itemCategory2,""),item_id:q(u.itemId,"")?""+q(u.itemId,""):"undefined",item_name:q(_.itemName||_.item_name,"")||"undefined",promotion_id:q(_.promotionId||_.promotion_id,""),promotion_name:q(_.promotionName||_.promotion_name,""),creative_name:q(_.creativeName||_.creative_name,""),creative_slot:q(_.creativeSlot||_.creative_slot,"")},Y(c.event,_,s));p.push(w)}}catch(O){n={error:O}}finally{try{v&&!v.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}if(!c.ecommerce.items||0===c.ecommerce.items.length){w=ve({price:0,item_brand:void 0,item_category:void 0,item_variant:void 0,quantity:0,item_category2:void 0,item_id:"undefined",item_name:"undefined",promotion_id:void 0,promotion_name:void 0,creative_name:void 0,creative_slot:void 0},Y(c.event,{},s));p.push(w)}var b=c.ecommerce||{};j({event:c.event,ecommerce:ve({currency:m(d).currencyCode,alg:q(b.alg,""),alg_ver:q(b.algVer,""),alg_group:q(b.algGroup,""),transation_id:q(b.transationId,""),status:q(b.status,""),payment_type:q(b.paymentType,""),tag:q(b.tag,""),stock:q(b.stock,""),shipping_tier:q(b.shippingTier,""),search_result:q(b.searchResult||b.result,""),search_word:q(b.searchWord,""),search_type:q(b.searchType,""),shipping:l(d)?Number(b.shipping||0):0,tax:l(d)?Number(b.tax||0):0,link:q(N(b.linkUrl||b.link),""),tr_promo_code:q(b.trPromoCode,""),tr_promo_price:l(d)?Number(b.trPromoPrice||0):0,value:l(d)?Number(b.value||0):0,page_referrer:C(d)||void 0,page_version:W()||void 0,version:q(b.version,""),spu_id:q(u.spuId,"")?""+q(u.spuId,""):void 0,product_id:q(u.productId,"")?""+q(u.productId,""):void 0,commodity_id:q(u.commodityId,"")?""+q(u.commodityId,""):void 0,tip:i,ref_tip:S()||void 0,element_name:q(b.elementName,""),element_title:q(b.elementTitle,""),promo_code:q(b.promoCode||b.promo_code,""),promo_price:l(d)?Number(b.promoPrice||0):0,page_type:q(b.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),items:p},s)},!0)}return i},ye=function(){return(ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},he=function(e,t){var n=y(e.tip,t)||"";if(U("expose",G({tip:n,module_pos:B(e.modulePos),module_title:B(e.moduleTitle,""),element_name:B(e.elementName,""),element_title:B(e.elementTitle,""),link:B(N(e.linkUrl||e.link),""),asset_link:B(N(e.assetLink),""),commodity_id:B(e.commodityId,""),product_id:B(e.productId,""),goods_id:B(e.goodsId,""),tag:B(e.tag,""),version:B(e.version,""),exp_id:B(e.expId,""),sub_module_pos:B(e.subModulePos),sub_module_name:B(e.subModuleName,""),sub_module_title:B(e.subModuleTitle,"")},e.extra)),window.dataLayer&&e.isOpenGA){var r=Object.assign({},e,e.extra,{event:"expose"});oe(r,t)}return n},we=function(e,t){var n=Array.from((e.targetNodeWrapper||document).querySelectorAll(e.targetNodeSelector||"[data-ot-expose]"));if("function"==typeof IntersectionObserver){var r={root:e.targetRootSelector&&document.querySelector(e.targetRootSelector)||null,rootMargin:e.targetRootMargin||"0px",threshold:void 0===e.exposeThreshold?.3:e.exposeThreshold},o=new IntersectionObserver((function(n){n.forEach((function(n){if(!(n.intersectionRatio<=0)&&n.isIntersecting){var r=n.target||{},i=r&&r.getAttribute("data-ot-tip")||"",a=r&&r.getAttribute(e.targetNodeDataAttr||"data-ot-expose")||"{}",c={};try{c=JSON.parse(a)}catch(de){F()&&console.warn("JSON string ["+a+"] is invalid!")}var u="function"==typeof t?t(c,r):c;if(he(Object.assign({},u,i?{tip:i}:{},{isOpenGA:!1}),r),window.dataLayer){var d=Object.assign(u,i?{tip:i}:{});if(u.isOpenGA)if("ecommerce"===d.eventType){var s={event:d.event,ecommerce:d.ecommerce};d.ecommerce||(s={event:d.event,ecommerce:ye({items:[ye({},d)]},d)}),ge(s)}else d.event=d.event||"expose",oe(d,r)}!e.isInfinite&&o.unobserve(r)}}))}),r);return n.forEach((function(e){o.observe(e)})),o}console.warn("Loading polyfill for IntersectionObserver")},be=function(e){var t=y(e.tip)||"";return U("slide",G({tip:t,link:B(N(e.linkUrl||e.link),""),asset_link:B(N(e.assetLink),""),asset_id:B(e.assetId,""),commodity_id:B(e.commodityId,""),product_id:B(e.productId,""),goods_id:B(e.goodsId,""),tag:B(e.tag,""),alg:B(e.alg,""),alg_ver:B(e.algVer,""),alg_group:B(e.algGroup,"")},e.extra)),t},Se=function(e){var t=y(e.tip)||"";return U("add_cart",G({tip:t,commodity_id:B(e.commodityId,""),product_id:B(e.productId,""),goods_id:B(e.goodsId,""),tag:B(e.tag,""),goods_count:B(e.goodsCount,1),goods_amount:B(e.goodsAmount,0),parent_goods_id:B(e.parentGoodsId,0),bundle_id:B(e.bundleId,0)},e.extra)),t},Ie=function(){var e=document.querySelector("body");e&&e.removeAttribute("data-ot-page")},Oe=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},Ce=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},Ae=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},ke=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},xe="function"==typeof WeakSet?new WeakSet:new Set,Ee=function(e,t,n){var r;return function(){t.value>=0&&(n||xe.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},Ne=-1,De=function(){return"hidden"===document.visibilityState?0:1/0},Te=function(){Ae((function(e){var t=e.timeStamp;Ne=t}),!0)},Pe=function(){return Ne<0&&(Ne=De(),Te(),ke((function(){setTimeout((function(){Ne=De(),Te()}),0)}))),{get timeStamp(){return Ne}}},Le={passive:!0,capture:!0},Re=new Date,je=function(e,t){de||(de=t,se=e,me=new Date,Ge(removeEventListener),Ue())},Ue=function(){if(se>=0&&se<me-Re){var e={entryType:"first-input",name:de.type,target:de.target,cancelable:de.cancelable,startTime:de.timeStamp,processingStart:de.timeStamp+se};le.forEach((function(t){t(e)})),le=[]}},Me=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){je(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,Le),removeEventListener("pointercancel",r,Le)};addEventListener("pointerup",n,Le),addEventListener("pointercancel",r,Le)}(t,e):je(t,e)}},Ge=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Me,Le)}))},Be=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(de){i(de)}}function c(e){try{u(r.throw(e))}catch(de){i(de)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},qe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(de){i=[6,de],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Je=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fe=function(e){var t=this;this._format=function(e,t){return void 0===t&&(t=0),e?e.toFixed(t).valueOf():null},this._getWebVitals=function(){return Be(t,void 0,void 0,(function(){var e,t=this;return qe(this,(function(n){return function(e,t){var n,r=Pe(),o=Oe("LCP"),i=function(e){var t=e.startTime;t<r.timeStamp&&(o.value=t,o.entries.push(e)),n()},a=Ce("largest-contentful-paint",i);if(a){n=Ee(e,o,t);var c=function(){xe.has(o)||(a.takeRecords().map(i),a.disconnect(),xe.add(o),n())};["keydown","click"].forEach((function(e){addEventListener(e,c,{once:!0,capture:!0})})),Ae(c,!0),ke((function(r){o=Oe("LCP"),n=Ee(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,xe.add(o),n()}))}))}))}}(e=function(e){if("TTFB"===e.name){var n=e.entries[0].requestStart;t.metrics[e.name]=e.value-n}else t.metrics[e.name]=e.value},!0),function(e,t){var n,r=Oe("CLS",0),o=function(e){e.hadRecentInput||(r.value+=e.value,r.entries.push(e),n())},i=Ce("layout-shift",o);i&&(n=Ee(e,r,t),Ae((function(){i.takeRecords().map(o),n()})),ke((function(){r=Oe("CLS",0),n=Ee(e,r,t)})))}(e,!0),function(e,t){var n,r=Pe(),o=Oe("FID"),i=function(e){e.startTime<r.timeStamp&&(o.value=e.processingStart-e.startTime,o.entries.push(e),xe.add(o),n())},a=Ce("first-input",i);n=Ee(e,o,t),a&&Ae((function(){a.takeRecords().map(i),a.disconnect()}),!0),a&&ke((function(){var r;o=Oe("FID"),n=Ee(e,o,t),le=[],se=-1,de=null,Ge(addEventListener),r=i,le.push(r),Ue()}))}(e,!0),function(e,t){var n,r=Pe(),o=Oe("FCP"),i=function(e){"first-contentful-paint"===e.name&&(c&&c.disconnect(),e.startTime<r.timeStamp&&(o.value=e.startTime,o.entries.push(e),xe.add(o),n()))},a=performance.getEntriesByName("first-contentful-paint")[0],c=a?null:Ce("paint",i);(a||c)&&(n=Ee(e,o,t),a&&i(a),ke((function(r){o=Oe("FCP"),n=Ee(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,xe.add(o),n()}))}))})))}(e,!0),function(e){var t,n=Oe("TTFB");t=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();if(n.value=n.delta=t.responseStart,n.value<0)return;n.entries=[t],e(n)}catch(e){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)}(e),[2]}))}))},this._getIRL=function(){window.addEventListener("load",(function(){var e,n;try{for(var r=Je(performance.getEntriesByType("resource")),o=r.next();!o.done;o=r.next()){var i=o.value;"img"===i.initiatorType&&(t.metrics.IRL=i.duration+(t.metrics.IRL||0))}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))},this._getUSP=function(){var e,n="User stays on the page";return performance.measure(n),t.metrics.USP=(null===(e=performance.getEntriesByName(n)[0])||void 0===e?void 0:e.duration)||0,t.metrics.USP},this.collectStart=function(){t._getWebVitals(),t._getIRL()},this.collectEnd=function(){t._getUSP()},this.reportPerf=function(){t.collectEnd();var e={tip:y(t.data.tip)||"",lcp:t._format(t.metrics.LCP),cls:t._format(t.metrics.CLS,4),fcp:t._format(t.metrics.FCP),fid:t._format(t.metrics.FID),ttfb:t._format(t.metrics.TTFB),irl:t._format(t.metrics.IRL),usp:t._format(t.metrics.USP),page_type:t.data.pageType};return U("performance",G(e,t.data.extra)),e},this.data=e,this.metrics={}},We=function(e){var t=new Fe(e);return t.collectStart(),t.reportPerf},Ve=function(e,t){var n=y(t.tip)||"",r={tip:n};Object.keys(t).forEach((function(e){r[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=B(t[e])})),r.tip=n,U(e,r)};const Ke=function(){var e=window.xmot&&window.xmot.q;window.xmot=ze,e instanceof Array&&!!e.length&&e.forEach((function(e){try{ze.apply(void 0,e)}catch(t){}}));return ze}();function ze(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={init:ue,view:ne,click:pe,clickWith:fe,expose:he,exposeWith:we,slide:be,addCart:Se,login:ie,logout:ae,exit:Ie,performance:We,default:Ve,custom:oe,ecommerce:ge,getSettings:z},o=r[e]||r.default;return o.apply(void 0,t)}})(),r=r.default})()}));